# 애플리케이션 이름 및 서버 포트
spring.application.name=polisight
server.port=8089

# MySQL 데이터베이스 연결 정보
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.url=jdbc:mysql://project-db-campus.smhrd.com:3312/sc_25K_LI6_p3_2?serverTimezone=Asia/Seoul&characterEncoding=UTF-8&useSSL=false&allowPublicKeyRetrieval=true
spring.datasource.username=sc_25K_LI6_p3_2
spring.datasource.password=${DB_PASS}

# MyBatis 설정
mybatis.mapper-locations=classpath:mapper/*.xml
mybatis.type-aliases-package=com.simpol.polisight.dto
mybatis.configuration.map-underscore-to-camel-case=true

# Thymeleaf 캐시 비활성화 (개발용)
spring.thymeleaf.cache=false

# MyBatis SQL 로그 출력
logging.level.com.simpol.polisight.mapper=debug

# STMP
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=bsb0107p@gmail.com
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.timeout=5000

# 구글 로그인
spring.security.oauth2.client.registration.google.client-id=792184014702-poi0oq8qisqvb1r5oj20d4oms38k3d95.apps.googleusercontent.com
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=profile,email

# [카카오 로그인 설정]
# 1. 카카오 키 설정 (REST API Key)
spring.security.oauth2.client.registration.kakao.client-id=4b634c36bc6005b13ab463b4d6860d1a
spring.security.oauth2.client.registration.kakao.client-authentication-method=client_secret_post
spring.security.oauth2.client.registration.kakao.client-secret=${KAKAO_CLIENT_SECRET}
spring.security.oauth2.client.registration.kakao.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.kakao.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}
spring.security.oauth2.client.registration.kakao.scope=profile_nickname, account_email
spring.security.oauth2.client.registration.kakao.client-name=Kakao

# 2. 카카오 공급자(Provider) 설정 (구글과 달리 수동으로 적어줘야 함)
spring.security.oauth2.client.provider.kakao.authorization-uri=https://kauth.kakao.com/oauth/authorize
spring.security.oauth2.client.provider.kakao.token-uri=https://kauth.kakao.com/oauth/token
spring.security.oauth2.client.provider.kakao.user-info-uri=https://kapi.kakao.com/v2/user/me
spring.security.oauth2.client.provider.kakao.user-name-attribute=id

# 서버 응답 압축 활성화 (필수)
server.compression.enabled=true
# 압축할 최소 크기 (2KB 이상일 때만 압축)
server.compression.min-response-size=2048
# 압축할 파일 형식 지정
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json

# 메일 링크 및 시스템 표준 주소로 사용
site.base-url=https://www.polisight.co.kr

# 로그 파일 생성 (프로젝트 폴더 내 logs/app.log 파일로 저장됨)
logging.file.name=logs/app.log
# 로그 레벨 설정 (정보성 로그 이상 기록)
logging.level.root=info

# 파일 하나당 10MB가 넘으면 파일을 새로 만듦
logging.logback.rollingpolicy.max-file-size=10MB

# 로그 파일 보관 기간을 30일로 설정
logging.logback.rollingpolicy.max-history=30

# (안전장치) 30일치 로그의 총합이 1GB를 넘으면 가장 오래된 것부터 삭제
logging.logback.rollingpolicy.total-size-cap=1GB

# [PoliSight] AI 서버 연결 설정 (Colab)
# Colab 실행 시 나오는 'ngrok' 주소를 여기에 복사 붙여넣기 (마지막 슬래시 / 제외)
# 주의: Colab을 껐다 켤 때마다 주소가 바뀌니 여기를 바꿔줘야 합니다.
ai.server.url=https://lanelle-bottlelike-everett.ngrok-free.dev