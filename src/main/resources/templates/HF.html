<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<th:block th:fragment="header(activeMenu)">
    <nav class="sticky top-0 z-40 bg-white/90 border-b border-slate-200 backdrop-blur-md"
         style="font-family: 'Noto Sans KR', sans-serif;">

        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <a th:href="@{/}" class="flex items-center gap-2 group">
                    <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold group-hover:scale-110 transition">P</div>
                    <span class="text-xl font-bold text-slate-900 tracking-tight">PoliSight</span>
                </a>

                <div class="flex items-center gap-4">

                    <div th:if="${session.loginMember == null}">
                        <a th:href="@{/login}"
                           class="inline-block bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-full text-xs font-bold transition shadow-md">
                            로그인
                        </a>
                    </div>

                    <div th:if="${session.loginMember != null}" class="relative group h-16 flex items-center">

                        <button class="flex items-center gap-1.5 text-slate-700 font-bold text-sm hover:text-blue-600 transition cursor-pointer">
                            <span th:text="${session.loginMember.memberName} + '님'">사용자님</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="transition-transform group-hover:rotate-180">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                            </svg>
                        </button>

                        <div class="absolute right-0 top-12 w-40 pt-2 hidden group-hover:block animation-fade-in">
                            <div class="bg-white border border-slate-100 rounded-xl shadow-xl overflow-hidden">
                                <a th:href="@{/mypage}" class="block px-4 py-3 text-xs font-medium text-slate-600 hover:bg-slate-50 hover:text-blue-600 transition">
                                    마이페이지
                                </a>
                                <a th:href="@{/record}" class="block px-4 py-3 text-xs font-medium text-slate-600 hover:bg-slate-50 hover:text-blue-600 transition">
                                    시뮬레이션 기록
                                </a>
                                <div class="border-t border-slate-100"></div>
                                <a th:href="@{/logout}" class="block px-4 py-3 text-xs font-medium text-red-500 hover:bg-red-50 transition">
                                    로그아웃
                                </a>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </nav>
</th:block>

<th:block th:fragment="footer">
    <footer class="bg-slate-900 text-slate-300 py-12 mt-auto relative z-10"
            style="font-family: 'Noto Sans KR', sans-serif;">

        <div class="max-w-6xl mx-auto px-4 grid md:grid-cols-4 gap-10">
            <div class="col-span-1 md:col-span-2">
                <span class="text-2xl font-bold text-white block mb-4">PoliSight</span>
                <p class="text-slate-400 max-w-sm leading-relaxed text-xs">
                    LLM과 RAG 기술을 활용하여 지역 정책의 복잡성을 해소하고,<br>시민들에게 투명한 혜택 정보를 제공합니다.
                </p>
            </div>

            <div class="col-span-1 md:col-span-2 flex justify-end items-start gap-12">
                <div>
                    <h4 class="text-white font-bold mb-4 text-sm">서비스 바로가기</h4>
                    <ul class="space-y-3 text-slate-400 text-xs">
                        <li><a th:href="@{/policy}" class="hover:text-white transition">맞춤 정책 찾기</a></li>
                        <li><a th:href="@{/simulation}" class="hover:text-white transition">AI 시뮬레이션</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="text-white font-bold mb-4 text-sm">Contact</h4>
                    <ul class="space-y-3 text-slate-400 text-xs">
                        <li>admin@polisight.com</li>
                        <li>Seoul, Republic of Korea</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="max-w-6xl mx-auto px-4 mt-12 pt-8 border-t border-slate-800 text-[10px] text-center text-slate-500">
            &copy; 2025 PoliSight AI Project. All rights reserved....
        </div>
    </footer>
</th:block>

</html>